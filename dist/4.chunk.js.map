{"version":3,"sources":["D:/Users/uidp4983/nicefish/src/app/post/write-post/write-post.component.html","D:/Users/uidp4983/nicefish/src/app/post/write-post/write-post.component.scss","D:/Users/uidp4983/nicefish/src/app/post/write-post/write-post.component.ts","D:/Users/uidp4983/nicefish/src/app/user/user-main/user-main.component.html","D:/Users/uidp4983/nicefish/src/app/user/user-main/user-main.component.scss","D:/Users/uidp4983/nicefish/src/app/user/user-main/user-main.component.ts","D:/Users/uidp4983/nicefish/src/app/user/user.module.ts","D:/Users/uidp4983/nicefish/src/app/user/user.routes.ts"],"names":[],"mappings":"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","file":"4.chunk.js","sourcesContent":["module.exports = \"<div class=\\\"write-post-container\\\" [@flyIn]=\\\"'active'\\\">\\n    <div class=\\\"row\\\">\\n        <div class=\\\"col-sm-12\\\">\\n            <form role=\\\"form\\\">\\n                <div class=\\\"form-group\\\">\\n                    <input type=\\\"text\\\" class=\\\"form-control\\\" placeholder=\\\"标题，2到32个字符\\\">\\n                </div>\\n                <div class=\\\"form-group\\\">\\n                    <input type=\\\"text\\\" class=\\\"form-control\\\" placeholder=\\\"原文URL，如果是转载请粘贴，最长1024个字符\\\">\\n                </div>\\n                <div class=\\\"form-group\\\">\\n                    <textarea id=\\\"post_editor\\\" class=\\\"form-control\\\" rows=\\\"20\\\" placeholder=\\\"内容，最少140字，最多2万字。图片每张最大500K，每篇文章最多50张图。\\\"></textarea>\\n                    <iframe id=\\\"form_target\\\" name=\\\"form_target\\\" style=\\\"display:none\\\"></iframe>\\n                    <form id=\\\"file_upload_form\\\" target=\\\"form_target\\\" method=\\\"post\\\" enctype=\\\"multipart/form-data\\\" style=\\\"width:0px;height:0;overflow:hidden\\\">\\n                        <input id=\\\"img_input\\\" name=\\\"image\\\" type=\\\"file\\\" (change)=\\\"fileInputChangeHandler()\\\">\\n                    </form>\\n                </div>\\n                <button type=\\\"submit\\\" class=\\\"btn btn-success\\\">提交</button>\\n            </form>\\n        </div>\\n    </div>\\n</div>\\n\"\n\n\n//////////////////\n// WEBPACK FOOTER\n// D:/Users/uidp4983/nicefish/src/app/post/write-post/write-post.component.html\n// module id = ../../../../../src/app/post/write-post/write-post.component.html\n// module chunks = 4","exports = module.exports = require(\"../../../../node_modules/css-loader/lib/css-base.js\")(false);\n// imports\n\n\n// module\nexports.push([module.id, \".write-post-container {\\n  padding-right: 2px; }\\n\", \"\"]);\n\n// exports\n\n\n/*** EXPORTS FROM exports-loader ***/\nmodule.exports = module.exports.toString();\n\n\n//////////////////\n// WEBPACK FOOTER\n// D:/Users/uidp4983/nicefish/src/app/post/write-post/write-post.component.scss\n// module id = ../../../../../src/app/post/write-post/write-post.component.scss\n// module chunks = 4","import { Component, OnInit, AfterViewInit, OnDestroy } from '@angular/core';\nimport { flyIn } from '../../animations/fly-in';\n\n@Component({\n  selector: 'app-write-post',\n  templateUrl: './write-post.component.html',\n  styleUrls: ['./write-post.component.scss'],\n  animations: [\n    flyIn\n  ]\n})\nexport class WritePostComponent implements OnInit, AfterViewInit, OnDestroy {\n  public editor;\n  constructor() { }\n  ngOnInit() {\n  }\n  public fileInputChangeHandler(): void {\n    let fileInput = <HTMLInputElement>document.getElementById('img_input');\n    let inputValue = fileInput.value;\n    if (!inputValue) {\n      return;\n    }\n    //提交隐藏的表单，上传文件\n    let fileForm = <HTMLFormElement>document.getElementById('file_upload_form');\n    fileForm.action = \"fileuploadurl\";\n    fileForm.onsubmit = function (event) {\n      console.log(event);\n      event.preventDefault();\n      let file = fileInput.files[0];\n      let formData = new FormData();\n      formData.append('file', file, file.name);\n\n      let xhr = new XMLHttpRequest();\n      xhr.withCredentials = false;\n      xhr.open('POST', 'file_upload_URL.php');\n      xhr.onload = function () {\n        let json;\n        if (xhr.status != 200) {\n          console.log('HTTP Error: ' + xhr.status);\n          return;\n        }\n        json = JSON.parse(xhr.responseText);\n        if (!json || typeof json.location != 'string') {\n          console.log('Invalid JSON: ' + xhr.responseText);\n          return;\n        }\n        console.log(json.location);\n        fileInput.value = '';\n      };\n      xhr.send(formData);\n    }\n    fileForm.submit();\n    fileInput.value = '';\n  }\n\n  ngAfterViewInit() {\n    /**\n     *  【非常重要】\n     *  关于TinyMCE的完整文档，请查看这里https://www.tinymce.com/docs/\n     */\n    tinymce.init({\n      selector: '#post_editor',\n      skin_url: '/assets/skins/lightgray',\n      //menubar:false,\n      plugins: [\n        'advlist autolink lists link image charmap print preview hr anchor pagebreak',\n        'searchreplace wordcount visualblocks visualchars code fullscreen',\n        'insertdatetime media nonbreaking save table contextmenu directionality',\n        'emoticons template paste textcolor colorpicker textpattern imagetools codesample'\n      ],\n      toolbar1: 'insertfile undo redo | styleselect | bold italic | alignleft aligncenter alignright alignjustify | bullist numlist outdent indent | link image',\n      toolbar2: 'print preview media | forecolor backcolor emoticons | codesample',\n      image_advtab: true,\n      codesample_content_css: '/assets/css/prism.css',\n      //文件和图片上传相关的选项\n      file_browser_callback_types: 'image',\n      file_browser_callback: function (field_name, url, type, win) {\n        console.log(type);\n        console.log(type == 'image');\n        if (type == 'image') {\n          let event = new MouseEvent('click', {\n            'view': window,\n            'bubbles': true,\n            'cancelable': true\n          });\n          let fileInput = document.getElementById('img_input');\n          fileInput.dispatchEvent(event);\n        }\n      },\n      setup: editor => {\n        this.editor = editor;\n        editor.on('keyup', () => {\n          const content = editor.getContent();\n          console.log(content);\n        });\n      }\n    });\n  }\n\n  ngOnDestroy() {\n    tinymce.remove(this.editor);\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// D:/Users/uidp4983/nicefish/src/app/post/write-post/write-post.component.ts","module.exports = \"<div class=\\\"user-main-container\\\" [@flyIn]=\\\"'active'\\\">\\n    <div class=\\\"row\\\">\\n        <div class=\\\"col-sm-9\\\">\\n            <router-outlet (activate)='onActivate($event)' (deactivate)='onDeactivate($event)'></router-outlet>\\n        </div>\\n        <div class=\\\"col-sm-3\\\">\\n            <app-user-info panelTitle=\\\"用户信息\\\" (follow)=\\\"doFollow()\\\"></app-user-info>\\n            <div class=\\\"list-group\\\">\\n                <a routerLink=\\\"write\\\" class=\\\"list-group-item\\\">写作</a>\\n                <a routerLink=\\\"posttable/page/1\\\" class=\\\"list-group-item\\\"><span class=\\\"badge\\\">104</span>文章管理</a>\\n                <a routerLink=\\\"commenttable/page/1\\\" class=\\\"list-group-item\\\"><span class=\\\"badge\\\">24</span>评论管理</a>\\n                <a routerLink=\\\"profile\\\" class=\\\"list-group-item\\\">个人设置</a>\\n            </div>\\n        </div>\\n    </div>\\n</div>\"\n\n\n//////////////////\n// WEBPACK FOOTER\n// D:/Users/uidp4983/nicefish/src/app/user/user-main/user-main.component.html\n// module id = ../../../../../src/app/user/user-main/user-main.component.html\n// module chunks = 4","exports = module.exports = require(\"../../../../node_modules/css-loader/lib/css-base.js\")(false);\n// imports\n\n\n// module\nexports.push([module.id, \"\", \"\"]);\n\n// exports\n\n\n/*** EXPORTS FROM exports-loader ***/\nmodule.exports = module.exports.toString();\n\n\n//////////////////\n// WEBPACK FOOTER\n// D:/Users/uidp4983/nicefish/src/app/user/user-main/user-main.component.scss\n// module id = ../../../../../src/app/user/user-main/user-main.component.scss\n// module chunks = 4","import { Component, OnInit} from '@angular/core';\nimport { flyIn } from '../../animations/fly-in';\n\n@Component({\n  selector: 'app-user-main',\n  templateUrl: './user-main.component.html',\n  styleUrls: ['./user-main.component.scss'],\n  animations: [\n    flyIn\n  ]\n})\nexport class UserMainComponent implements OnInit {\n\n  constructor() { }\n\n  ngOnInit() {\n  }\n\n  onActivate(component) {\n    console.log(\"组件加载完成>\"+component);\n  }\n\n  onDeactivate(component) {\n    console.log(\"组件已经移除>\"+component);\n  }\n\n  doFollow(){\n    alert(\"自己不能关注自己！\");\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// D:/Users/uidp4983/nicefish/src/app/user/user-main/user-main.component.ts","import { CommonModule } from '@angular/common';\nimport { NgModule } from '@angular/core';\nimport { RouterModule } from '@angular/router';\nimport { ReactiveFormsModule } from '@angular/forms';\n\nimport { SharedModule } from '../shared/shared.module';\nimport { PostSharedModule } from '../shared/post.module';\n\nimport { WritePostComponent } from '../post/write-post/write-post.component';\nimport { UserMainComponent } from './user-main/user-main.component';\n\nimport { PostTableService } from '../manage/post-table/services/post-table.service';\n\nimport { userRoutes } from './user.routes';\n\n@NgModule({\n  declarations: [\n    UserMainComponent,\n    WritePostComponent\n  ],\n  imports: [\n    CommonModule,\n    ReactiveFormsModule,\n    SharedModule,\n    PostSharedModule,\n    RouterModule.forChild(userRoutes)\n  ],\n  exports: [\n    UserMainComponent\n  ],\n  providers: [\n    PostTableService\n  ]\n})\nexport class UserModule { }\n\n\n// WEBPACK FOOTER //\n// D:/Users/uidp4983/nicefish/src/app/user/user.module.ts","import {RouterModule} from \"@angular/router\";\nimport { UserMainComponent } from './user-main/user-main.component';\nimport { UserProfileComponent } from './user-profile/user-profile.component';\nimport { WritePostComponent } from '../post/write-post/write-post.component';\nimport { PostTableComponent } from '../manage/post-table/post-table.component';\nimport { CommentTableComponent } from '../manage/comment-table/comment-table.component';\n\nexport const userRoutes = [\n  \t{\n\t\tpath:'',\n\t\tcomponent:UserMainComponent,\n\t    children: [\n\t    \t{ path: '', redirectTo:'posttable/page/1',pathMatch:'full'},\n\t    \t{ path: 'write', component: WritePostComponent },\n\t    \t{ path: 'posttable/page/:page', component: PostTableComponent },\n\t    \t{ path: 'commenttable/page/:page', component: CommentTableComponent },\n\t    \t{ path: 'profile', component: UserProfileComponent },\n\t\t\t{ path:'**', redirectTo:'write' }\n\t    ]\n\t}\n];\n\n\n// WEBPACK FOOTER //\n// D:/Users/uidp4983/nicefish/src/app/user/user.routes.ts"],"sourceRoot":"webpack:///"}